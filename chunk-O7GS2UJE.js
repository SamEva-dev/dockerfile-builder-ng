import{a as pe,b as de,c as me}from"./chunk-ZXMRF2QA.js";import"./chunk-NNZJJLOA.js";import{a as ce,b as ge,c as he,d as xe,e as Me}from"./chunk-UHGY6NSJ.js";import{a as ae,b as Ce}from"./chunk-YUABFYP2.js";import{c as oe,d as re,e as le,g as se,i as ue,j as fe,k as _e,l as ve}from"./chunk-X2UVP5SW.js";import"./chunk-G2M2UXHZ.js";import"./chunk-HEVQ3NIT.js";import"./chunk-Z7WK5Y2H.js";import{b as q}from"./chunk-6LZFZSYY.js";import{Da as Y,Ea as Z,Ga as ee,Ia as te,R as Q,S as X,Ua as ne,Va as ie,g as U,h as $,i as H,l as T,w as J,x as K}from"./chunk-2ZZAZF3K.js";import{$ as v,$b as O,Eb as P,Gb as u,Hb as f,Ib as F,Jb as G,Ra as l,Ub as j,Vb as B,W as E,Wb as p,X as N,Xb as _,Yb as M,_b as I,ac as w,bb as y,bc as D,cb as A,dc as L,fa as C,fb as V,ga as h,gc as W,hb as g,jb as k,jc as m,kc as c,lc as R,pa as x,pc as b,rb as z,ua as S,ub as d,vb as a,wb as r}from"./chunk-MXPEK2PN.js";var be=`
    .p-divider-horizontal {
        display: flex;
        width: 100%;
        position: relative;
        align-items: center;
        margin: dt('divider.horizontal.margin');
        padding: dt('divider.horizontal.padding');
    }

    .p-divider-horizontal:before {
        position: absolute;
        display: block;
        inset-block-start: 50%;
        inset-inline-start: 0;
        width: 100%;
        content: '';
        border-block-start: 1px solid dt('divider.border.color');
    }

    .p-divider-horizontal .p-divider-content {
        padding: dt('divider.horizontal.content.padding');
    }

    .p-divider-vertical {
        min-height: 100%;
        display: flex;
        position: relative;
        justify-content: center;
        margin: dt('divider.vertical.margin');
        padding: dt('divider.vertical.padding');
    }

    .p-divider-vertical:before {
        position: absolute;
        display: block;
        inset-block-start: 0;
        inset-inline-start: 50%;
        height: 100%;
        content: '';
        border-inline-start: 1px solid dt('divider.border.color');
    }

    .p-divider.p-divider-vertical .p-divider-content {
        padding: dt('divider.vertical.content.padding');
    }

    .p-divider-content {
        z-index: 1;
        background: dt('divider.content.background');
        color: dt('divider.content.color');
    }

    .p-divider-solid.p-divider-horizontal:before {
        border-block-start-style: solid;
    }

    .p-divider-solid.p-divider-vertical:before {
        border-inline-start-style: solid;
    }

    .p-divider-dashed.p-divider-horizontal:before {
        border-block-start-style: dashed;
    }

    .p-divider-dashed.p-divider-vertical:before {
        border-inline-start-style: dashed;
    }

    .p-divider-dotted.p-divider-horizontal:before {
        border-block-start-style: dotted;
    }

    .p-divider-dotted.p-divider-vertical:before {
        border-inline-start-style: dotted;
    }

    .p-divider-left:dir(rtl),
    .p-divider-right:dir(rtl) {
        flex-direction: row-reverse;
    }
`;var we=["*"],Te={root:({instance:e})=>({justifyContent:e.layout==="horizontal"?e.align==="center"||e.align==null?"center":e.align==="left"?"flex-start":e.align==="right"?"flex-end":null:null,alignItems:e.layout==="vertical"?e.align==="center"||e.align==null?"center":e.align==="top"?"flex-start":e.align==="bottom"?"flex-end":null:null})},Se={root:({instance:e})=>["p-divider p-component","p-divider-"+e.layout,"p-divider-"+e.type,{"p-divider-left":e.layout==="horizontal"&&(!e.align||e.align==="left")},{"p-divider-center":e.layout==="horizontal"&&e.align==="center"},{"p-divider-right":e.layout==="horizontal"&&e.align==="right"},{"p-divider-top":e.layout==="vertical"&&e.align==="top"},{"p-divider-center":e.layout==="vertical"&&(!e.align||e.align==="center")},{"p-divider-bottom":e.layout==="vertical"&&e.align==="bottom"}],content:"p-divider-content"},ye=(()=>{class e extends ee{name="divider";theme=be;classes=Se;inlineStyles=Te;static \u0275fac=(()=>{let t;return function(i){return(t||(t=S(e)))(i||e)}})();static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();var ke=(()=>{class e extends te{styleClass;layout="horizontal";type="solid";align;_componentStyle=v(ye);static \u0275fac=(()=>{let t;return function(i){return(t||(t=S(e)))(i||e)}})();static \u0275cmp=y({type:e,selectors:[["p-divider"]],hostAttrs:["data-pc-name","divider","role","separator"],hostVars:5,hostBindings:function(n,i){n&2&&(z("aria-orientation",i.layout),j(i.sx("root")),B(i.cn(i.cx("root"),i.styleClass)))},inputs:{styleClass:"styleClass",layout:"layout",type:"type",align:"align"},features:[L([ye]),V],ngContentSelectors:we,decls:2,vars:2,template:function(n,i){n&1&&(F(),a(0,"div"),G(1),r()),n&2&&B(i.cx("content"))},dependencies:[T,Z],encapsulation:2,changeDetection:0})}return e})(),Pe=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=A({type:e});static \u0275inj=N({imports:[ke]})}return e})();var Be=(e,o)=>({selected:e,inactive:o});function De(e,o){e&1&&(a(0,"mat-icon"),p(1,"star"),r(),p(2),m(3,"translate")),e&2&&(l(2),M(" ",c(3,1,"BASE_IMAGE.POPULAR")," "))}function Ee(e,o){if(e&1&&(a(0,"span",25),p(1),r()),e&2){let t=o.$implicit;l(),_(t)}}function Ne(e,o){if(e&1&&(a(0,"div",21),p(1),r(),a(2,"div",22),p(3),r(),a(4,"div",23),g(5,Ee,2,1,"span",24),r()),e&2){let t=f().$implicit;l(),_(t.name),l(2),_(t.desc),l(2),d("ngForOf",t.tags)}}function Ae(e,o){if(e&1){let t=P();a(0,"p-card",19),u("click",function(){let i=C(t).index,s=f();return h(!s.customImageName()&&s.selectPopular(i))}),g(1,Ne,6,3,"ng-template",20),r()}if(e&2){let t=o.index,n=f();d("ngClass",W(1,Be,n.selectedPopularIndex()===t,n.customImageName()))}}function Ve(e,o){e&1&&(a(0,"mat-icon"),p(1,"search"),r(),p(2),m(3,"translate")),e&2&&(l(2),M(" ",c(3,1,"BASE_IMAGE.CUSTOM")," "))}function ze(e,o){e&1&&(a(0,"mat-icon"),p(1,"settings"),r(),p(2),m(3,"translate")),e&2&&(l(2),M(" ",c(3,1,"BASE_IMAGE.IMAGE_CONFIG")," "))}function Fe(e,o){if(e&1&&p(0),e&2){let t=o.$implicit;M(" ",t," ")}}function Ge(e,o){if(e&1){let t=P();a(0,"div")(1,"label",30),p(2),m(3,"translate"),r(),a(4,"input",31),w("ngModelChange",function(i){C(t);let s=f(2);return O(s.customTag,i)||(s.customTag=i),h(i)}),u("input",function(i){C(t);let s=f(2);return h(s.onCustomTagChange(i.target.value))}),r()()}if(e&2){let t=f(2);l(2),_(c(3,2,"BASE_IMAGE.TAG_PLACEHOLDER")),l(2),I("ngModel",t.customTag)}}function je(e,o){if(e&1){let t=P();a(0,"p-card",6),g(1,ze,4,3,"ng-template",7),a(2,"div",10)(3,"label",26),p(4),m(5,"translate"),r(),a(6,"p-select",27),w("ngModelChange",function(i){C(t);let s=f();return O(s.selectedTag,i)||(s.selectedTag=i),h(i)}),u("onChange",function(i){C(t);let s=f();return h(s.onTagChange(i.value))}),g(7,Fe,1,1,"ng-template",28,0,R),r(),g(9,Ge,5,4,"div",29),r()()}if(e&2){let t=f();l(4),_(c(5,6,"BASE_IMAGE.TAG")),l(2),d("options",t.dynamicTagOptions()),I("ngModel",t.selectedTag),d("showClear",!1)("lang",!0),l(3),d("ngIf",t.selectedTag()==="personnalis\xE9")}}var Ie=class e{translate=v(J);dockerService=v(Ce);router=v(q);popularImages=[{name:"node",desc:"Runtime JavaScript pour applications Node.js",tags:["18","20","alpine"],defaultTag:"alpine",tagOptions:["latest","alpine","lts","personnalis\xE9"]},{name:"python",desc:"Langage de programmation Python",tags:["3.11","3.12","alpine"],defaultTag:"alpine",tagOptions:["latest","alpine","lts","personnalis\xE9"]},{name:"nginx",desc:"Serveur web haute performance",tags:["latest","alpine"],defaultTag:"alpine",tagOptions:["latest","alpine","lts","personnalis\xE9"]},{name:"redis",desc:"Base de donn\xE9es en m\xE9moire",tags:["7","alpine"],defaultTag:"alpine",tagOptions:["latest","alpine","lts","personnalis\xE9"]},{name:"postgres",desc:"Base de donn\xE9es relationnelle",tags:["15","14"],defaultTag:"alpine",tagOptions:["latest","alpine","lts","personnalis\xE9"]},{name:"ubuntu",desc:"Syst\xE8me d'exploitation Ubuntu",tags:["22.04","20.04"],defaultTag:"alpine",tagOptions:["latest","alpine","lts","personnalis\xE9"]},{name:"alpine",desc:"Distribution Linux minimaliste",tags:["latest","3.18"],defaultTag:"alpine",tagOptions:["latest","alpine","lts","personnalis\xE9"]},{name:"mysql",desc:"Base de donn\xE9es MySQL",tags:["8.0","5.7"],defaultTag:"alpine",tagOptions:["latest","alpine","lts","personnalis\xE9"]}];selectedPopularIndex=x(null);customImageName=x("");selectedTag=x("");customTag=x("");imageName=b(()=>this.customImageName()?this.customImageName():this.selectedPopularIndex()!==null?this.popularImages[this.selectedPopularIndex()].name:"");dynamicTagOptions=b(()=>this.selectedPopularIndex()!==null?this.popularImages[this.selectedPopularIndex()].tagOptions:["latest","personnalis\xE9"]);configSectionVisible=b(()=>!!this.imageName());tagValue=b(()=>this.selectedTag()==="personnalis\xE9"?this.customTag():this.selectedTag());previous=new k;next=new k;get canGoNext(){return!!this.imageName()&&!!this.tagValue()}dockerfilePreview=this.dockerService.dockerfilePreview;dockerComposePreview=this.dockerService.composePreview;dockerRunCommand=this.dockerService.cliPreview;selectPopular(o){this.selectedPopularIndex.set(o),this.customImageName.set(""),this.selectedTag.set(this.popularImages[o].defaultTag),this.customTag.set(""),this.updateDockerfileSignal()}onCustomImageNameChange(o){console.log("Custom image name changed:",o),this.customImageName.set(o),this.selectedPopularIndex.set(null),this.selectedTag.set("latest"),this.customTag.set(""),this.updateDockerfileSignal()}onTagChange(o){this.selectedTag.set(o),o!=="personnalis\xE9"&&this.customTag.set(""),this.updateDockerfileSignal()}onCustomTagChange(o){console.log("Custom tag changed:",o),this.customTag.set(o),this.updateDockerfileSignal()}onCopyDockerfile(){}onDownloadDockerfile(){}updateDockerfileSignal(){this.dockerService.updateDockerfile({baseImage:`${this.imageName()}:${this.tagValue()||"latest"}`}),this.dockerService.updateCompose({version:"3.8",services:{app:{image:`${this.imageName()}:${this.tagValue()||"latest"}`}}}),this.dockerService.updateCLI({runCommands:[{containerName:"app",image:`${this.imageName()}:${this.tagValue()||"latest"}`}]})}onPrevious(){this.previous.emit()}onNext(){this.updateDockerfileSignal(),this.next.emit(),this.router.navigate(["/instruction"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=y({type:e,selectors:[["app-base-image"]],outputs:{previous:"previous",next:"next"},decls:32,vars:24,consts:[["lang",""],[1,"base-image-step"],[1,"content-wrapper"],[1,"step-header"],[1,"step-content"],[1,"left-side"],[1,"section-card"],["pTemplate","title"],[1,"popular-list"],["class","image-card",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"form-vertical"],["for","customImage"],["pInputText","","id","customImage","placeholder","ex: my-custom-image, registry.exemple.com/image","autocomplete","off","variant","filled",3,"ngModelChange","input","ngModel"],["class","section-card",4,"ngIf"],[1,"step-navigation"],["icon","pi pi-arrow-left","severity","secondary",1,"nav-btn","nav-btn-prev",3,"click","label"],["icon","pi pi-arrow-right","iconPos","right",1,"nav-btn","nav-btn-next","btn-blue-right",3,"click","label","disabled"],[1,"right-side"],[3,"copy","download","content"],[1,"image-card",3,"click","ngClass"],["pTemplate","content"],[1,"image-title"],[1,"image-desc"],[1,"tags"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],["for","imageTag"],["id","imageTag","placeholder","S\xE9lectionner un tag",1,"w-full","md:w-56",3,"ngModelChange","onChange","options","ngModel","showClear","lang"],["pTemplate","item"],[4,"ngIf"],["for","customTag"],["pInputText","","id","customTag","placeholder","ex: v1.0.0, dev, staging","autocomplete","off",3,"ngModelChange","input","ngModel"]],template:function(t,n){t&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),p(4),m(5,"translate"),r(),a(6,"p"),p(7),m(8,"translate"),r()(),a(9,"div",4)(10,"div",5)(11,"p-card",6),g(12,De,4,3,"ng-template",7),a(13,"div",8),g(14,Ae,2,4,"p-card",9),r()(),a(15,"p-card",6),g(16,Ve,4,3,"ng-template",7),a(17,"div",10)(18,"label",11),p(19),m(20,"translate"),r(),a(21,"input",12),w("ngModelChange",function(s){return O(n.customImageName,s)||(n.customImageName=s),s}),u("input",function(s){return n.onCustomImageNameChange(s.target.value)}),r()()(),g(22,je,10,8,"p-card",13),a(23,"div",14)(24,"p-button",15),m(25,"translate"),u("click",function(){return n.onPrevious()}),r(),a(26,"p-button",16),m(27,"translate"),u("click",function(){return n.onNext()}),r()()(),a(28,"div",17)(29,"dockerfile-preview",18),u("copy",function(){return n.onCopyDockerfile()})("download",function(){return n.onDownloadDockerfile()}),r(),a(30,"docker-compose-preview",18),u("copy",function(){return n.onCopyDockerfile()})("download",function(){return n.onDownloadDockerfile()}),r(),a(31,"docker-command-preview",18),u("copy",function(){return n.onCopyDockerfile()})("download",function(){return n.onDownloadDockerfile()}),r()()()()()),t&2&&(l(4),_(c(5,14,"BASE_IMAGE.TITLE")),l(3),_(c(8,16,"BASE_IMAGE.SUBTITLE")),l(7),d("ngForOf",n.popularImages),l(5),_(c(20,18,"BASE_IMAGE.CUSTOM_NAME")),l(2),I("ngModel",n.customImageName),l(),d("ngIf",n.configSectionVisible),l(2),d("label",D(c(25,20,"COMMON.BACK"))),l(2),d("label",D(c(27,22,"COMMON.NEXT")))("disabled",!n.canGoNext),l(3),d("content",n.dockerfilePreview()),l(),d("content",n.dockerComposePreview()),l(),d("content",n.dockerRunCommand()))},dependencies:[T,U,$,H,X,Q,ae,pe,de,ge,ce,Y,me,se,oe,re,le,ve,_e,fe,ue,ie,ne,he,xe,Pe,Me,K],styles:[".base-image-step[_ngcontent-%COMP%]{width:100%;padding:2rem 0 0;min-height:100vh;background:#f7fafd}.base-image-step[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:1200px;margin:0 auto;gap:0}.base-image-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]{align-self:flex-start;margin-bottom:2.3rem;margin-left:8px;max-width:540px}.base-image-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;margin:0 0 .7rem;color:#18385e;text-align:left;letter-spacing:-.5px}.base-image-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.09rem;color:#406292;margin:0 0 0 2px;text-align:left;line-height:1.6}.base-image-step[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{display:flex;gap:32px;align-items:flex-start;justify-content:center}@media (max-width: 1050px){.base-image-step[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:20px}}.base-image-step[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{flex:1.7;min-width:320px;max-width:480px;display:flex;flex-direction:column;gap:20px}.base-image-step[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{flex:2.2;min-width:340px;max-width:700px;display:flex;flex-direction:column;justify-content:flex-start;gap:10px}.base-image-step[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{margin-bottom:0;box-shadow:0 2px 12px #0077ee10;border-radius:12px}.base-image-step[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .p-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600}.base-image-step[_ngcontent-%COMP%]   .popular-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:13px 18px;margin-top:10px}@media (max-width: 700px){.base-image-step[_ngcontent-%COMP%]   .popular-list[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}}.base-image-step[_ngcontent-%COMP%]   .image-card[_ngcontent-%COMP%]{cursor:pointer;transition:box-shadow .2s,border-color .2s,background .2s;border:2px solid transparent;border-radius:10px;background:#f7fafd;margin-bottom:0}.base-image-step[_ngcontent-%COMP%]   .image-card[_ngcontent-%COMP%]:hover:not(.inactive){box-shadow:0 0 0 2px #188cff50;border-color:#188cff80;background:#e9f3ff}.base-image-step[_ngcontent-%COMP%]   .image-card.selected[_ngcontent-%COMP%]{border:2px solid #188cff;background:#e6f3ff;box-shadow:0 0 0 2px #188cff50}.base-image-step[_ngcontent-%COMP%]   .image-card.inactive[_ngcontent-%COMP%]{opacity:.7;pointer-events:none;filter:grayscale(.5)}.base-image-step[_ngcontent-%COMP%]   .image-card[_ngcontent-%COMP%]   .image-title[_ngcontent-%COMP%]{font-weight:600;font-size:1.04rem;margin-bottom:2px}.base-image-step[_ngcontent-%COMP%]   .image-card[_ngcontent-%COMP%]   .image-desc[_ngcontent-%COMP%]{font-size:.96rem;color:#4c537a;margin-bottom:7px}.base-image-step[_ngcontent-%COMP%]   .image-card[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;gap:6px}.base-image-step[_ngcontent-%COMP%]   .image-card[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#e9f3ff;color:#0176d1;border-radius:8px;padding:2px 8px;font-size:.86rem;font-weight:500}.base-image-step[_ngcontent-%COMP%]   .form-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-top:14px}.base-image-step[_ngcontent-%COMP%]   .form-vertical[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#123a66;margin-bottom:3px}.base-image-step[_ngcontent-%COMP%]   .form-vertical[_ngcontent-%COMP%]   input[pInputText][_ngcontent-%COMP%], .base-image-step[_ngcontent-%COMP%]   .form-vertical[_ngcontent-%COMP%]   p-select[_ngcontent-%COMP%]{width:100%;min-height:38px}@media (max-width: 800px){.base-image-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]{max-width:98vw;margin-bottom:1.2rem}.base-image-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.55rem}.base-image-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.98rem}.base-image-step[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.base-image-step[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%], .base-image-step[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{max-width:100vw}}"],changeDetection:0})};export{Ie as BaseImageComponent};
